{% extends "dashboard/base.html" %}
{% load staticfiles %}

{% block page_content %}

<script src="{% static 'js/connected_tablets.js' %}"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">{{ title }}</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<script>
    setUpWebSocket();
</script>

<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                {{  subtitle }}
            </div>
            <br>
            <br>
            <div class="panel-body">
                <div class="row">
                    <div id='table-div' class="col-md-6 col-lg-offset-3" align="center">
                       <table class="table table-striped">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Device ID</th>
                              <th scope="col">Connected</th>
                            </tr>
                          </thead>
                          <tbody>
                          {% for device in devices %}
                            <tr>
                              <th scope="row">{{  device.tablet_id }}</th>
                              <td>{{ device.device_id }} </td>
                                {% if device.connected %}
                                    <td><img src="/static/admin/img/icon-yes.svg" alt="True"></td>
                                {% else %}
                                    <td><img src="/static/admin/img/icon-no.svg" alt="False"></td>
                                {% endif %}
                            </tr>
                          {% endfor %}
                          </tbody>
                        </table>
                    </div>
                    <!-- /.col-lg-6 (nested) -->
                </div>
                <!-- /.row (nested) -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->



{% endblock page_content %}